{"remainingRequest":"C:\\Users\\zhuhongxing\\Desktop\\dian\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zhuhongxing\\Desktop\\dian\\src\\layout\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zhuhongxing\\Desktop\\dian\\src\\layout\\index.vue","mtime":1684911989217},{"path":"C:\\Users\\zhuhongxing\\Desktop\\dian\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636699538000},{"path":"C:\\Users\\zhuhongxing\\Desktop\\dian\\node_modules\\babel-loader\\lib\\index.js","mtime":1636699524000},{"path":"C:\\Users\\zhuhongxing\\Desktop\\dian\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636699538000},{"path":"C:\\Users\\zhuhongxing\\Desktop\\dian\\node_modules\\vue-loader\\lib\\index.js","mtime":1636699682000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUmlnaHRQYW5lbCBmcm9tICJAL2NvbXBvbmVudHMvUmlnaHRQYW5lbCI7DQppbXBvcnQgeyBBcHBNYWluLCBOYXZiYXIsIFNldHRpbmdzLCBTaWRlYmFyLCBUYWdzVmlldyB9IGZyb20gIi4vY29tcG9uZW50cyI7DQppbXBvcnQgUmVzaXplTWl4aW4gZnJvbSAiLi9taXhpbi9SZXNpemVIYW5kbGVyIjsNCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7DQppbXBvcnQgdmFyaWFibGVzIGZyb20gIkAvYXNzZXRzL3N0eWxlcy92YXJpYWJsZXMuc2NzcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkxheW91dCIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBBcHBNYWluLA0KICAgIE5hdmJhciwNCiAgICBSaWdodFBhbmVsLA0KICAgIFNldHRpbmdzLA0KICAgIFNpZGViYXIsDQogICAgVGFnc1ZpZXcNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaXNSdW95aTogZmFsc2UNCiAgICB9Ow0KICB9LA0KICBtaXhpbnM6IFtSZXNpemVNaXhpbl0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoew0KICAgICAgdGhlbWU6IHN0YXRlID0+IHN0YXRlLnNldHRpbmdzLnRoZW1lLA0KICAgICAgc2lkZVRoZW1lOiBzdGF0ZSA9PiBzdGF0ZS5zZXR0aW5ncy5zaWRlVGhlbWUsDQogICAgICBzaWRlYmFyOiBzdGF0ZSA9PiBzdGF0ZS5hcHAuc2lkZWJhciwNCiAgICAgIGRldmljZTogc3RhdGUgPT4gc3RhdGUuYXBwLmRldmljZSwNCiAgICAgIHNob3dTZXR0aW5nczogc3RhdGUgPT4gc3RhdGUuc2V0dGluZ3Muc2hvd1NldHRpbmdzLA0KICAgICAgbmVlZFRhZ3NWaWV3OiBzdGF0ZSA9PiBzdGF0ZS5zZXR0aW5ncy50YWdzVmlldywNCiAgICAgIGZpeGVkSGVhZGVyOiBzdGF0ZSA9PiBzdGF0ZS5zZXR0aW5ncy5maXhlZEhlYWRlcg0KICAgIH0pLA0KICAgIGNsYXNzT2JqKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgaGlkZVNpZGViYXI6ICF0aGlzLnNpZGViYXIub3BlbmVkLA0KICAgICAgICBvcGVuU2lkZWJhcjogdGhpcy5zaWRlYmFyLm9wZW5lZCwNCiAgICAgICAgd2l0aG91dEFuaW1hdGlvbjogdGhpcy5zaWRlYmFyLndpdGhvdXRBbmltYXRpb24sDQogICAgICAgIG1vYmlsZTogdGhpcy5kZXZpY2UgPT09ICJtb2JpbGUiDQogICAgICB9Ow0KICAgIH0sDQogICAgdmFyaWFibGVzKCkgew0KICAgICAgcmV0dXJuIHZhcmlhYmxlczsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy53T25sb2FkKCk7DQogICAgLy8gdGhpcy5jaGFuZ2VQYWdlKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGhhbmRsZUNsaWNrT3V0c2lkZSgpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhcHAvY2xvc2VTaWRlQmFyIiwgew0KICAgICAgICB3aXRob3V0QW5pbWF0aW9uOiBmYWxzZQ0KICAgICAgfSk7DQogICAgfSwNCiAgICB3T25sb2FkKCkgew0KICAgICAgdmFyIHRoYXQgPSB0aGlzOw0KICAgICAgdmFyIHRhZ1RpdGxlID0gdGhpcy4kc3RvcmUuc3RhdGUudGFnc1ZpZXcudmlzaXRlZFZpZXdzOw0KICAgICAgY29uc29sZS5sb2coImN3ZWYzIiwgdGFnVGl0bGUpOw0KICAgICAgdGhhdC4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICBpZiAoDQogICAgICAgICAgKHRhZ1RpdGxlLmxlbmd0aCA9PSAyICYmIHRhZ1RpdGxlWzFdLnRpdGxlICE9ICLlj6/op4bljJYiKSB8fA0KICAgICAgICAgIHRhZ1RpdGxlLmxlbmd0aCA9PSAxDQogICAgICAgICkgew0KICAgICAgICAgIHRoYXQuaXNSdW95aSA9IHRydWU7DQogICAgICAgIH0gZWxzZSBpZiAodGFnVGl0bGUubGVuZ3RoID4gMikgew0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHNob3dSdW95aSh2YWwpIHsNCiAgICAgIHRoaXMuaXNSdW95aSA9IHZhbDsNCiAgICAgIGlmICghdmFsKSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBwYXRoOiAiL2Jhc2ljL3dob2xlSW5mbyINCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRyZWZzLmNsb3NlVGFnLmNsb3NlQWxsVGFncygpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout","sourcesContent":["<template>\r\n  <div\r\n    :class=\"classObj\"\r\n    class=\"app-wrapper\"\r\n    :style=\"{ '--current-color': theme }\"\r\n  >\r\n    <div\r\n      v-if=\"device === 'mobile' && sidebar.opened\"\r\n      class=\"drawer-bg\"\r\n      @click=\"handleClickOutside\"\r\n    />\r\n    <div class=\"main-container\" v-if=\"!isRuoyi\">\r\n      <div style=\"height: 7.8%;\">\r\n        <navbar @showRuoyi=\"showRuoyi\"></navbar>\r\n        <tags-view ref=\"closeTag\" style=\"visibility: hidden\" />\r\n      </div>\r\n      <app-main />\r\n      <right-panel v-if=\"showSettings\">\r\n        <settings />\r\n      </right-panel>\r\n    </div>\r\n    <sidebar class=\"sidebar-container\" v-if=\"isRuoyi\" />\r\n    <div\r\n      :class=\"{ hasTagsView: needTagsView }\"\r\n      class=\"main-container1\"\r\n      v-if=\"isRuoyi\"\r\n    >\r\n      <div :class=\"{ 'fixed-header': fixedHeader }\">\r\n        <navbar @showRuoyi=\"showRuoyi\"></navbar>\r\n        <tags-view v-if=\"needTagsView\" ref=\"closeTag\" />\r\n      </div>\r\n      <app-main />\r\n      <right-panel v-if=\"showSettings\">\r\n        <settings />\r\n      </right-panel>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RightPanel from \"@/components/RightPanel\";\r\nimport { AppMain, Navbar, Settings, Sidebar, TagsView } from \"./components\";\r\nimport ResizeMixin from \"./mixin/ResizeHandler\";\r\nimport { mapState } from \"vuex\";\r\nimport variables from \"@/assets/styles/variables.scss\";\r\n\r\nexport default {\r\n  name: \"Layout\",\r\n  components: {\r\n    AppMain,\r\n    Navbar,\r\n    RightPanel,\r\n    Settings,\r\n    Sidebar,\r\n    TagsView\r\n  },\r\n  data() {\r\n    return {\r\n      isRuoyi: false\r\n    };\r\n  },\r\n  mixins: [ResizeMixin],\r\n  computed: {\r\n    ...mapState({\r\n      theme: state => state.settings.theme,\r\n      sideTheme: state => state.settings.sideTheme,\r\n      sidebar: state => state.app.sidebar,\r\n      device: state => state.app.device,\r\n      showSettings: state => state.settings.showSettings,\r\n      needTagsView: state => state.settings.tagsView,\r\n      fixedHeader: state => state.settings.fixedHeader\r\n    }),\r\n    classObj() {\r\n      return {\r\n        hideSidebar: !this.sidebar.opened,\r\n        openSidebar: this.sidebar.opened,\r\n        withoutAnimation: this.sidebar.withoutAnimation,\r\n        mobile: this.device === \"mobile\"\r\n      };\r\n    },\r\n    variables() {\r\n      return variables;\r\n    }\r\n  },\r\n  created() {\r\n    this.wOnload();\r\n    // this.changePage()\r\n  },\r\n  methods: {\r\n    handleClickOutside() {\r\n      this.$store.dispatch(\"app/closeSideBar\", {\r\n        withoutAnimation: false\r\n      });\r\n    },\r\n    wOnload() {\r\n      var that = this;\r\n      var tagTitle = this.$store.state.tagsView.visitedViews;\r\n      console.log(\"cwef3\", tagTitle);\r\n      that.$nextTick(() => {\r\n        if (\r\n          (tagTitle.length == 2 && tagTitle[1].title != \"可视化\") ||\r\n          tagTitle.length == 1\r\n        ) {\r\n          that.isRuoyi = true;\r\n        } else if (tagTitle.length > 2) {\r\n        }\r\n      });\r\n    },\r\n    showRuoyi(val) {\r\n      this.isRuoyi = val;\r\n      if (!val) {\r\n        this.$router.push({\r\n          path: \"/basic/wholeInfo\"\r\n        });\r\n      } else {\r\n        this.$refs.closeTag.closeAllTags();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~@/assets/styles/mixin.scss\";\r\n@import \"~@/assets/styles/variables.scss\";\r\n.main-container {\r\n  background: url(\"../assets/images/beijing1.png\") no-repeat left;\r\n  background-size: 100% 100%;\r\n}\r\n::-webkit-scrollbar {\r\n  width: 0;\r\n}\r\n\r\n.app-wrapper {\r\n  @include clearfix;\r\n  position: relative;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  &.mobile.openSidebar {\r\n    position: fixed;\r\n    top: 0;\r\n  }\r\n}\r\n\r\n.drawer-bg {\r\n  background: #000;\r\n  opacity: 0.3;\r\n  width: 100%;\r\n  top: 0;\r\n  height: 100%;\r\n  position: absolute;\r\n  z-index: 999;\r\n}\r\n\r\n.fixed-header {\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: 9;\r\n  width: calc(100% - #{$sideBarWidth});\r\n  transition: width 0.28s;\r\n}\r\n\r\n.hideSidebar .fixed-header {\r\n  width: calc(100% - 54px);\r\n}\r\n\r\n.mobile .fixed-header {\r\n  width: 100%;\r\n}\r\n</style>\r\n"]}]}